(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"41cb":function(e,s,t){"use strict";var a=t("2b0e"),i=t("8c4f"),r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{attrs:{id:"header"}},[t("Header")],1),e._m(0),t("ConnectionModal"),t("CreateAccountModal")],1)},n=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"page-content"}},[t("div",{attrs:{id:"home"}},[t("div",{staticClass:"container-fluid",attrs:{id:"highlight"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col talk"},[t("h2",[e._v("Enregistrez votre voix")]),t("div",{staticClass:"title-icon"},[t("img",{attrs:{src:"/assets/img/talk.svg",alt:"Parler"}})]),t("div",{staticClass:"highlight-content"},[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod malesuada nisl, sit amet vulputate justo interdum nec. Donec lobortis, ipsum vitae hendrerit sodales, purus risus fringilla ante, eu auctor mi velit ut turpis.")]),t("div",{staticClass:"highlight-action"},[t("button",{staticClass:"button red"},[e._v("Enregistrez votre voix")])])]),t("div",{staticClass:"col listen"},[t("h2",[e._v("Écoutez et participez à la validation")]),t("div",{staticClass:"title-icon"},[t("img",{attrs:{src:"/assets/img/listen.svg",alt:"Ecouter"}})]),t("div",{staticClass:"highlight-content"},[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod malesuada nisl, sit amet vulputate justo interdum nec. Donec lobortis, ipsum vitae hendrerit sodales, purus risus fringilla ante, eu auctor mi velit ut turpis.")]),t("div",{staticClass:"highlight-action"},[t("button",{staticClass:"button green"},[e._v("Écouter des enregistrements")])])])])]),t("div",{staticClass:"divider red shadowTop"})])])}],l=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"header-container container-fluid"},[t("div",{staticClass:"row"},[e._m(0),t("div",{staticClass:"col user-panel"},[t("button",{staticClass:"button red",on:{click:function(s){return e.toggleConnectionModal()}}},[e._v("Se connecter")])])])])},o=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"col logo-container"},[t("img",{attrs:{id:"wakemeup-logo",src:"/assets/img/wakemeup-logo.svg",alt:"Wake Me Up"}}),t("img",{attrs:{id:"linagora-labs-logo",src:"/assets/img/linagora-labs.png",alt:"Linagora Labs"}})])}],c=t("56d7"),d={data:function(){return{}},methods:{toggleConnectionModal:function(){console.log("EMIT ? "),c["bus"].$emit("toggle_connection_modal",{})}}},u=d,m=t("2877"),v=Object(m["a"])(u,l,o,!1,null,null,null),h=v.exports,p=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"modal",class:[e.showConnectionModal?"visible":"hidden"]},[t("div",{staticClass:"modal-container"},[t("div",{staticClass:"modal-header"},[t("h3",{staticClass:"modal-title red"},[e._v("Se connecter")]),t("button",{staticClass:"close-modal",on:{click:e.closeModal}})]),t("div",{staticClass:"modal-body"},[t("span",[e._v("Veuillez renseigner vos identifiants")]),t("div",{staticClass:"field-container"},[e._m(0),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userEmail,expression:"userEmail"}],staticClass:"input",class:["error"===e.userEmailValid?"error":"","valid"===e.userEmailValid?"valid":""],attrs:{type:"text"},domProps:{value:e.userEmail},on:{input:function(s){s.target.composing||(e.userEmail=s.target.value)}}}),t("span",{staticClass:"error-field",class:[e.userEmailErrorMsg.length>0?"visible":"hidden"]},[e._v(e._s(e.userEmailErrorMsg))])]),t("div",{staticClass:"field-container"},[e._m(1),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userPswd,expression:"userPswd"}],staticClass:"input",class:["error"===e.userPswdValid?"error":"","valid"===e.userPswdValid?"valid":""],attrs:{type:"password"},domProps:{value:e.userPswd},on:{input:function(s){s.target.composing||(e.userPswd=s.target.value)}}}),t("span",{staticClass:"error-field",class:[e.userPswdErrorMsg.length>0?"visible":"hidden"]},[e._v(e._s(e.userPswdErrorMsg))])]),t("div",{staticClass:"field-container btn"},[t("button",{staticClass:"button red large",on:{click:function(s){return e.sendLogin()}}},[e._v("S'identifier")])]),t("button",{staticClass:"aslink"},[e._v("Identifiants oubliés ?")]),t("div",{staticClass:"spacer"}),t("div",{staticClass:"divider red"}),t("div",{staticClass:"spacer"}),t("span",[e._v("Vous n'avez pas d'identifiants ?")]),t("div",{staticClass:"field-container btn"},[t("button",{staticClass:"button green large",on:{click:e.toggleCreateAccountModal}},[e._v("Créer un compte")])])])])])])},f=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"field-label"},[t("span",{staticClass:"icon user"}),t("span",{staticClass:"label"},[e._v("Adresse email:")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"field-label"},[t("span",{staticClass:"icon pswd"}),t("span",{staticClass:"label"},[e._v("Mot de passe :")])])}],g=(t("96cf"),t("3b8d")),C=t("bc3a"),w=t.n(C),E={data:function(){return{showConnectionModal:!1,userEmail:"",userEmailValid:!1,userEmailErrorMsg:"",userPswd:"",userPswdValid:!1,userPswdErrorMsg:""}},mounted:function(){var e=this;c["bus"].$on("toggle_connection_modal",function(){e.toggleConnectionModal()})},methods:{toggleConnectionModal:function(){this.showConnectionModal=!this.showConnectionModal},closeModal:function(){this.showConnectionModal=!1},toggleCreateAccountModal:function(){this.showConnectionModal=!1,c["bus"].$emit("toggle_create_account_modal",{})},validateEmail:function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)},checkForm:function(){return 0===this.userEmail.length?(this.userEmailValid="error",this.userEmailErrorMsg="Vous devez renseigner une adresse email de connection"):this.validateEmail(this.userEmail)?(this.userEmailValid="valid",this.userEmailErrorMsg=""):(this.userEmailValid="error",this.userEmailErrorMsg="Le format de l'adresse email est invalide"),0===this.userPswd.length?(this.userPswdValid="error",this.userPswdErrorMsg="Veuillez renseigner un mot de passe"):(this.userPswdValid="valid",this.userPswdErrorMsg=""),"valid"===this.userEmailValid&&"valid"===this.userPswdValid},sendLogin:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(){var s,t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(s=this.checkForm(),!s){e.next=9;break}return t={email:this.userEmail,password:this.userPswd},e.next=5,w()("http://localhost:3003/login/userAuth",{method:"post",data:t});case 5:a=e.sent,"error"===a.data.status?"user"===a.data.field?(this.userEmailValid="error",this.userEmailErrorMsg=a.data.msg):"password"===a.data.field&&(this.userPswdValid="error",this.userPswdErrorMsg=a.data.msg):"success"===a.data.status&&(document.location.href="/interface"),e.next=10;break;case 9:return e.abrupt("return");case 10:case"end":return e.stop()}},e,this)}));function s(){return e.apply(this,arguments)}return s}()}},_=E,b=Object(m["a"])(_,p,f,!1,null,null,null),M=b.exports,P=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"modal",class:[e.showCreateAccountModal?"visible":"hidden"]},[t("div",{staticClass:"modal-container"},[t("div",{staticClass:"modal-header"},[t("h3",{staticClass:"modal-title green"},[e._v("Créer un compte")]),t("button",{staticClass:"close-modal",on:{click:function(s){return e.closeModal()}}}),t("button",{staticClass:"back-login-modal",on:{click:function(s){return e.backToLogin()}}})]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"field-container"},[e._m(0),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userEmail,expression:"userEmail"}],staticClass:"input",class:["error"===e.userEmailValid?"error":"","valid"===e.userEmailValid?"valid":""],attrs:{type:"text"},domProps:{value:e.userEmail},on:{input:function(s){s.target.composing||(e.userEmail=s.target.value)}}}),t("span",{staticClass:"error-field",class:[e.userEmailErrorMsg.length>0?"visible":"hidden"]},[e._v(e._s(e.userEmailErrorMsg))])]),t("div",{staticClass:"field-container"},[e._m(1),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userPswd,expression:"userPswd"}],staticClass:"input",class:["error"===e.userPswdValid?"error":"","valid"===e.userPswdValid?"valid":""],attrs:{type:"password"},domProps:{value:e.userPswd},on:{input:function(s){s.target.composing||(e.userPswd=s.target.value)}}}),t("span",{staticClass:"error-field",class:[e.userPswdErrorMsg.length>0?"visible":"hidden"]},[e._v(e._s(e.userPswdErrorMsg))])]),t("div",{staticClass:"field-container"},[e._m(2),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userPswdConfirm,expression:"userPswdConfirm"}],staticClass:"input",class:["error"===e.userPswdConfirmValid?"error":"","valid"===e.userPswdConfirmValid?"valid":""],attrs:{type:"password"},domProps:{value:e.userPswdConfirm},on:{input:function(s){s.target.composing||(e.userPswdConfirm=s.target.value)}}}),t("span",{staticClass:"error-field",class:[e.userPswdConfirmdErrorMsg.length>0?"visible":"hidden"]},[e._v(e._s(e.userPswdConfirmdErrorMsg))])]),t("div",{staticClass:"field-container"},[t("div",{staticClass:"field-label"},[t("span",{staticClass:"required"},[e._v("*")]),t("span",{staticClass:"label"},[e._v("Sexe :")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.userGender,expression:"userGender"}],staticClass:"select",class:["error"===e.userGenderValid?"error":"","valid"===e.userGenderValid?"valid":""],on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){var s="_value"in e?e._value:e.value;return s});e.userGender=s.target.multiple?t:t[0]}}},[t("option",{attrs:{value:"",hidden:""}},[e._v("Sélectionner un sexe")]),t("option",{attrs:{value:"male"}},[e._v("Homme")]),t("option",{attrs:{value:"female"}},[e._v("Femme")])])]),t("span",{staticClass:"error-field",class:[e.userGenderErrorMsg.length>0?"visible":"hidden"]},[e._v(e._s(e.userGenderErrorMsg))])]),t("div",{staticClass:"field-container"},[e._m(3),t("div",{staticClass:"micro-type-container"},[t("div",{staticClass:"micro-type-item",class:["default"==e.selectedMic?"active":""],on:{click:function(s){return e.setMicrophone("default")}}},[t("span",{staticClass:"icon default"}),t("span",{staticClass:"label"},[e._v("Micro par défaut")])]),t("div",{staticClass:"micro-type-item",class:["casque"==e.selectedMic?"active":""],on:{click:function(s){return e.setMicrophone("casque")}}},[t("span",{staticClass:"icon casque"}),t("span",{staticClass:"label"},[e._v("Micro-casque")])]),t("div",{staticClass:"micro-type-item",class:["pied"==e.selectedMic?"active":""],on:{click:function(s){return e.setMicrophone("pied")}}},[t("span",{staticClass:"icon pied"}),t("span",{staticClass:"label"},[e._v("Micro à pied")])])])]),t("div",{staticClass:"field-container btn"},[t("button",{staticClass:"button green large",on:{click:function(s){return e.sendForm()}}},[e._v(e._s(e.btnCreateAccountLabel))]),t("span",{staticClass:"status-field",class:[e.createAccountStatus.length>0?"visible "+e.createAccountStatus:"hidden"]},[e._v(e._s(e.createAccoutMsg))])])])])])])},V=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"field-label"},[t("span",{staticClass:"required"},[e._v("*")]),t("span",{staticClass:"label"},[e._v("Adresse email:")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"field-label"},[t("span",{staticClass:"required"},[e._v("*")]),t("span",{staticClass:"label"},[e._v("Mot de passe :")]),t("button",{staticClass:"info-label"})])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"field-label"},[t("span",{staticClass:"required"},[e._v("*")]),t("span",{staticClass:"label"},[e._v("Confirmation du mot de passe :")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"field-label"},[t("span",{staticClass:"required"},[e._v("*")]),t("span",{staticClass:"label"},[e._v("Type de mircophone :")])])}],k={data:function(){return{showCreateAccountModal:!1,selectedMic:"default",userEmail:"",userEmailValid:!1,userEmailErrorMsg:"",userPswd:"",userPswdValid:!1,userPswdErrorMsg:"",userPswdConfirm:"",userPswdConfirmValid:!1,userPswdConfirmdErrorMsg:"",userGender:"",userGenderValid:!1,userGenderErrorMsg:"",btnCreateAccountLabel:"Créer un compte",createAccountStatus:"",createAccoutMsg:""}},mounted:function(){var e=this;c["bus"].$on("toggle_create_account_modal",function(){e.showCreateAccountModal=!0})},methods:{setMicrophone:function(e){this.selectedMic=e},closeModal:function(){this.showCreateAccountModal=!1},backToLogin:function(){this.showCreateAccountModal=!1,c["bus"].$emit("toggle_connection_modal",function(){})},validateEmail:function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)},sendForm:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(){var s,t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(s=this.checkForm(),!s){e.next=12;break}return this.btnCreateAccountLabel="Création en cours...",t={email:this.userEmail,pswd:this.userPswd,gender:this.userGender,deviceType:this.deviceType},e.next=6,w()("http://localhost:3003/login/createUser",{method:"post",data:t});case 6:a=e.sent,this.createAccountStatus=a.data.status,this.createAccoutMsg=a.data.msg,"success"===a.data.status?(this.btnCreateAccountLabel="Succès",this.createAccoutMsg+=", vous allez être redirigé dans 3 sec",setTimeout(function(){document.location.href="/interface"},3e3)):this.btnCreateAccountLabel="Créer un compte",e.next=13;break;case 12:return e.abrupt("return");case 13:case"end":return e.stop()}},e,this)}));function s(){return e.apply(this,arguments)}return s}(),checkForm:function(){return 0===this.userEmail.length?(this.userEmailValid="error",this.userEmailErrorMsg="Veuillez renseigner une adresse email"):this.validateEmail(this.userEmail)?(this.userEmailValid="valid",this.userEmailErrorMsg=""):(this.userEmailValid="error",this.userEmailErrorMsg="Le format de l'adresse email est invalide"),0===this.userPswd.length?(this.userPswdValid="error",this.userPswdErrorMsg="Veuillez renseigner un mot de passe"):this.userPswd.length<8?(this.userPswdValid="error",this.userPswdErrorMsg="Le mot de passe doit contenir au moins 8 caractères"):(this.userPswdValid="valid",this.userPswdErrorMsg=""),0===this.userPswdConfirm.length?this.userPswdConfirmValid="error":this.userPswdConfirm!==this.userPswd?(this.userPswdConfirmValid="error",this.userPswdConfirmdErrorMsg="Les mots de passes doivent êtres identiques"):(this.userPswdConfirmValid="valid",this.userPswdConfirmdErrorMsg=""),""===this.userGender?(this.userGenderValid="error",this.userGenderErrorMsg="Veuillez sélectionner un sexe"):(this.userGenderValid="valid",this.userGenderErrorMsg=""),"valid"===this.userEmailValid&&"valid"===this.userPswdValid&&"valid"===this.userPswdConfirmValid&&"valid"===this.userGenderValid}}},x=k,A=Object(m["a"])(x,P,V,!1,null,null,null),$=A.exports,y={data:function(){return{showConnectModal:!1}},components:{Header:h,ConnectionModal:M,CreateAccountModal:$}},G=y,L=Object(m["a"])(G,r,n,!1,null,null,null),z=L.exports,S=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e._v("Interface")])},j=[],q={data:function(){return{}}},T=q,N=Object(m["a"])(T,S,j,!1,null,null,null),O=N.exports;a["a"].use(i["a"]);s["a"]=new i["a"]({mode:"history",base:"/assets/",routes:[{path:"/",name:"home",component:z},{path:"/interface",name:"Interface",component:O}]})},"56d7":function(e,s,t){"use strict";t.r(s);t("cadf"),t("551c"),t("f751"),t("097d");var a=t("2b0e"),i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],n={data:function(){return{}}},l=n,o=t("2877"),c=Object(o["a"])(l,i,r,!1,null,null,null),d=c.exports,u=t("41cb"),m=t("c0d6");t.d(s,"bus",function(){return v}),a["a"].config.productionTip=!1;var v=new a["a"];new a["a"]({router:u["a"],store:m["a"],render:function(e){return e(d)}}).$mount("#app")},c0d6:function(e,s,t){"use strict";var a=t("2b0e"),i=t("2f62");a["a"].use(i["a"]),s["a"]=new i["a"].Store({state:{},mutations:{},actions:{}})}}]);
//# sourceMappingURL=chunk-common.ad209218.js.map